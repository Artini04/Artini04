---
import { Image } from "astro:assets"

interface Props {
	title: string
	description: string
	link: string
	pinned: boolean

	"cover-img": string
	"cover-alt": string
}

const {
	title,
	description,
	link,
	pinned,
	"cover-img": coverImg,
	"cover-alt": coverAlt,
} = Astro.props
---

<a class="project" href={link} target="_blank" data-pinned={pinned}>
	<div class="project-media">
		{
			coverImg.length == 0 ?
				<div class="project__img-none">No image provided!</div>
			:	<Image
					class="project__img"
					src={coverImg}
					alt={coverAlt}
					loading="lazy"
					width={1024}
					height={768}
				/>
		}
	</div>
	<div class="project-description">
		<p class="project__title">{title}</p>
		<p class="project__description">{description}</p>
	</div>
</a>

<style lang="scss">
	.project {
		display: flex;
		gap: 0.4em 1em;

		place-items: center;

		&[data-pinned="true"] {
			background: hsl(0, 0%, 0%);
		}

		&-media {
			flex: 1 1 40%;
		}

		&-description {
			flex: 1 1 60%;
		}

		&__img {
			width: 100%;
			height: 100%;
			object-fit: cover;

			border: var(--global-border);
			border-radius: var(--global-border-radius);
		}
	}
</style>
